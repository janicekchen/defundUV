library('tidyverse')
library(magrittr)
raw <- read.csv("data/raw/datadownload.csv")
colnames(raw)
head(raw)
raw %<>% select(c(4, 6, 7:14))
colnames(raw)
raw %<>% select(c(4, 6, 7:14)) %>%
mutate(health = 2)
raw <- read.csv("data/raw/datadownload.csv")
colnames(raw)
raw %<>% select(c(4, 6, 7:14))
colnames(raw)
raw %<>% mutate(health = select(4:6) %>% rowSums(na.rm = TRUE))
raw %<>% mutate(health = select(c(4:6)) %>% rowSums(na.rm = TRUE))
str(raw)
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE))
View(raw)
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE)) %>%
slice(-c(4:6))
View(raw)
raw <- read.csv("data/raw/datadownload.csv")
raw %<>% select(c(4, 6, 7:14))
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE)) %>%
select(-c(4:6))
View(raw)
raw <- read.csv("data/raw/datadownload.csv")
raw %<>% select(c(4, 6, 7:14))
colnames(raw)
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE),
rec = select(., c(8:9) %>% rowSums(na.rm = TRUE))) %>%
select(-c(4:6, 8:9))
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE),
rec = select(., c(8,9) %>% rowSums(na.rm = TRUE))) %>%
select(-c(4:6, 8, 9))
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE),
rec = select(., c(8, 9) %>% rowSums(na.rm = TRUE)))
raw <- read.csv("data/raw/datadownload.csv")
raw %<>% select(c(4, 6, 7:14))
colnames(raw)
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE),
rec = select(., c(8, 9) %>% rowSums(na.rm = TRUE)))
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE),
rec = select(., c(8:9) %>% rowSums(na.rm = TRUE)))
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE)) %>%
mutate(rec = select(., c(8:9) %>% rowSums(na.rm = TRUE)))
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE))
rlang::last_error()
raw %<>% mutate(health = select(., c(4:6)) %>% rowSums(na.rm = TRUE)) %>%
mutate(rec = select(., c(8:9) %>% rowSums(na.rm = TRUE)))
rlang::last_error()
colnames(raw)
mutate(rec = select(., c(8:9) %>% rowSums(na.rm = TRUE))
raw %>% select(c(8:9))
raw %>% select(., c(8:9))
raw %>% select(., c(8:9)) %>% rowSums(na.rm = TRUE)
blerp <- raw %>% select(., c(8:9)) %>% rowSums(na.rm = TRUE)
raw$rec <-  raw %>% select(., c(8:9)) %>% rowSums(na.rm = TRUE)
View(raw)
colnames(raw)
raw %<>% select(c(1:3, 7, 10:12))
View(raw)
colnames(raw)
names(raw) <- c("town", "pop", "police", "welfare", "housing", "health", "rec")
write.csv(raw, "data/processed/town_budget.csv")
View(raw)
